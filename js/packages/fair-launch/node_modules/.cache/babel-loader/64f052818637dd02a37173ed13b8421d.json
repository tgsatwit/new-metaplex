{"ast":null,"code":"import _objectSpread from\"/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import{useEffect,useMemo,useState}from'react';import styled from'styled-components';import{CircularProgress,Container,IconButton,Link,Slider,Snackbar}from'@material-ui/core';import Button from'@material-ui/core/Button';import Paper from'@material-ui/core/Paper';import Typography from'@material-ui/core/Typography';import Grid from'@material-ui/core/Grid';import{createStyles}from'@material-ui/core/styles';import{PhaseCountdown}from'./countdown';import Dialog from'@material-ui/core/Dialog';import MuiDialogTitle from'@material-ui/core/DialogTitle';import MuiDialogContent from'@material-ui/core/DialogContent';import CloseIcon from'@material-ui/icons/Close';import Alert from'@material-ui/lab/Alert';import{LAMPORTS_PER_SOL}from'@solana/web3.js';import{useWallet}from'@solana/wallet-adapter-react';import{WalletDialogButton}from'@solana/wallet-adapter-material-ui';import{awaitTransactionSignatureConfirmation,getCandyMachineState,mintOneToken}from'./candy-machine';import{getFairLaunchState,punchTicket,purchaseTicket,receiveRefund}from'./fair-launch';import{formatNumber,getAtaForMint,toDate}from'./utils';import Countdown from'react-countdown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ConnectButton=styled(WalletDialogButton)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));var MintContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\"])));// add your styles here\nvar MintButton=styled(Button)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));// add your styles here\nvar dialogStyles=function dialogStyles(theme){return createStyles({root:{margin:0,padding:theme.spacing(2)},closeButton:{position:'absolute',right:theme.spacing(1),top:theme.spacing(1),color:theme.palette.grey[500]}});};var ValueSlider=styled(Slider)({color:'#C0D5FE',height:8,'& > *':{height:4},'& .MuiSlider-track':{border:'none',height:4},'& .MuiSlider-thumb':{height:24,width:24,marginTop:-10,background:'linear-gradient(180deg, #604AE5 0%, #813EEE 100%)',border:'2px solid currentColor','&:focus, &:hover, &.Mui-active, &.Mui-focusVisible':{boxShadow:'inherit'},'&:before':{display:'none'}},'& .MuiSlider-valueLabel':{'& > *':{background:'linear-gradient(180deg, #604AE5 0%, #813EEE 100%)'},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});var Phase;(function(Phase){Phase[Phase[\"Phase0\"]=0]=\"Phase0\";Phase[Phase[\"Phase1\"]=1]=\"Phase1\";Phase[Phase[\"Phase2\"]=2]=\"Phase2\";Phase[Phase[\"Lottery\"]=3]=\"Lottery\";Phase[Phase[\"Phase3\"]=4]=\"Phase3\";Phase[Phase[\"Phase4\"]=5]=\"Phase4\";Phase[Phase[\"Unknown\"]=6]=\"Unknown\";})(Phase||(Phase={}));var Header=function Header(props){var phaseName=props.phaseName,desc=props.desc,date=props.date,status=props.status;return/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Grid,{xs:6,justifyContent:\"center\",direction:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",style:{fontWeight:600},children:phaseName}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"textSecondary\",children:desc})]}),/*#__PURE__*/_jsx(Grid,{xs:6,container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(PhaseCountdown,{date:toDate(date),style:{justifyContent:'flex-end'},status:status||'COMPLETE'})})]});};function getPhase(fairLaunch,candyMachine){var _toDate,_toDate2,_toDate3,_toDate4;var curr=new Date().getTime();var phaseOne=(_toDate=toDate(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseOneStart))===null||_toDate===void 0?void 0:_toDate.getTime();var phaseOneEnd=(_toDate2=toDate(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseOneEnd))===null||_toDate2===void 0?void 0:_toDate2.getTime();var phaseTwoEnd=(_toDate3=toDate(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd))===null||_toDate3===void 0?void 0:_toDate3.getTime();var candyMachineGoLive=(_toDate4=toDate(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate))===null||_toDate4===void 0?void 0:_toDate4.getTime();if(phaseOne&&curr<phaseOne){return Phase.Phase0;}else if(phaseOneEnd&&curr<=phaseOneEnd){return Phase.Phase1;}else if(phaseTwoEnd&&curr<=phaseTwoEnd){return Phase.Phase2;}else if(!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.phaseThreeStarted)){return Phase.Lottery;}else if((fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.phaseThreeStarted)&&candyMachineGoLive&&curr>candyMachineGoLive){return Phase.Phase4;}else if(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.phaseThreeStarted){return Phase.Phase3;}return Phase.Unknown;}var FAIR_LAUNCH_LOTTERY_SIZE=8+// discriminator\n32+// fair launch\n1+// bump\n8;// size of bitmask ones\nvar isWinner=function isWinner(fairLaunch,fairLaunchBalance){var _fairLaunch$ticket$da,_fairLaunch$ticket$da2,_fairLaunch$ticket$da3;if(fairLaunchBalance>0)return true;if(!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.lottery.data)||!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.lottery.data.length)||!(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da===void 0?void 0:_fairLaunch$ticket$da.seq)||!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.phaseThreeStarted)){return false;}var myByte=fairLaunch.lottery.data[FAIR_LAUNCH_LOTTERY_SIZE+Math.floor(((_fairLaunch$ticket$da2=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da2===void 0?void 0:_fairLaunch$ticket$da2.seq.toNumber())/8)];var positionFromRight=7-((_fairLaunch$ticket$da3=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da3===void 0?void 0:_fairLaunch$ticket$da3.seq.toNumber())%8;var mask=Math.pow(2,positionFromRight);var isWinner=myByte&mask;return isWinner>0;};var Home=function Home(props){var _fairLaunch$ticket,_fairLaunch$ticket$da5,_fairLaunch$ticket$da6,_fairLaunch$state,_fairLaunch$state$dat,_fairLaunch$state2,_fairLaunch$state2$da,_fairLaunch$ticket2,_fairLaunch$ticket2$d,_fairLaunch$ticket3,_fairLaunch$ticket3$d,_fairLaunch$ticket4,_fairLaunch$ticket4$d,_fairLaunch$ticket5,_fairLaunch$ticket5$d,_fairLaunch$ticket6,_fairLaunch$ticket6$d,_fairLaunch$ticket7,_fairLaunch$ticket7$d,_fairLaunch$ticket8,_fairLaunch$ticket8$d,_fairLaunch$ticket$da7,_fairLaunch$ticket$da8,_fairLaunch$ticket9,_fairLaunch$ticket9$d,_fairLaunch$ticket10,_fairLaunch$ticket10$,_fairLaunch$ticket$da9,_toDate5,_toDate6,_fairLaunch$ticket11,_fairLaunch$ticket12,_fairLaunch$ticket13,_fairLaunch$ticket14,_fairLaunch$ticket14$,_fairLaunch$state3,_fairLaunch$state3$da,_fairLaunch$state4,_fairLaunch$state4$da,_toDate7;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),fairLaunchBalance=_useState2[0],setFairLaunchBalance=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),yourSOLBalance=_useState4[0],setYourSOLBalance=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isMinting=_useState6[0],setIsMinting=_useState6[1];// true when user got to press MINT\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),contributed=_useState8[0],setContributed=_useState8[1];var wallet=useWallet();var anchorWallet=useMemo(function(){if(!wallet||!wallet.publicKey||!wallet.signAllTransactions||!wallet.signTransaction){return;}return{publicKey:wallet.publicKey,signAllTransactions:wallet.signAllTransactions,signTransaction:wallet.signTransaction};},[wallet]);var _useState9=useState({open:false,message:'',severity:undefined}),_useState10=_slicedToArray(_useState9,2),alertState=_useState10[0],setAlertState=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),fairLaunch=_useState12[0],setFairLaunch=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),candyMachine=_useState14[0],setCandyMachine=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),howToOpen=_useState16[0],setHowToOpen=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),refundExplainerOpen=_useState18[0],setRefundExplainerOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),antiRugPolicyOpen=_useState20[0],setAnitRugPolicyOpen=_useState20[1];var onMint=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _fairLaunch$ticket$da4,mintTxId,status,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setIsMinting(true);if(!(wallet.connected&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.program)&&wallet.publicKey)){_context.next=13;break;}if(!((fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da4=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da4===void 0?void 0:_fairLaunch$ticket$da4.state.unpunched)&&isWinner(fairLaunch,fairLaunchBalance))){_context.next=6;break;}_context.next=6;return onPunchTicket();case 6:_context.next=8;return mintOneToken(candyMachine,wallet.publicKey);case 8:mintTxId=_context.sent;_context.next=11;return awaitTransactionSignatureConfirmation(mintTxId,props.txTimeout,props.connection,'singleGossip',false);case 11:status=_context.sent;if(!(status===null||status===void 0?void 0:status.err)){setAlertState({open:true,message:'Congratulations! Mint succeeded!',severity:'success'});}else{setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});}case 13:_context.next=20;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);// TODO: blech:\nmessage=_context.t0.msg||'Minting failed! Please try again!';if(!_context.t0.msg){if(!_context.t0.message){message='Transaction Timeout! Please try again.';}else if(_context.t0.message.indexOf('0x138')){}else if(_context.t0.message.indexOf('0x137')){message=\"SOLD OUT!\";}else if(_context.t0.message.indexOf('0x135')){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context.t0.code===311){message=\"SOLD OUT!\";window.location.reload();}else if(_context.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:'error'});case 20:_context.prev=20;setIsMinting(false);return _context.finish(20);case 23:case\"end\":return _context.stop();}}},_callee,null,[[0,15,20,23]]);}));return function onMint(){return _ref.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var balance,state,_fairLaunchBalance,cndy;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(anchorWallet){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:_context2.prev=2;_context2.next=5;return props.connection.getBalance(anchorWallet.publicKey);case 5:balance=_context2.sent;setYourSOLBalance(balance);_context2.next=9;return getFairLaunchState(anchorWallet,props.fairLaunchId,props.connection);case 9:state=_context2.sent;setFairLaunch(state);_context2.prev=11;if(!state.state.tokenMint){_context2.next=21;break;}_context2.t0=props.connection;_context2.next=16;return getAtaForMint(state.state.tokenMint,anchorWallet.publicKey);case 16:_context2.t1=_context2.sent[0];_context2.next=19;return _context2.t0.getTokenAccountBalance.call(_context2.t0,_context2.t1);case 19:_fairLaunchBalance=_context2.sent;if(_fairLaunchBalance.value){setFairLaunchBalance(_fairLaunchBalance.value.uiAmount||0);}case 21:_context2.next=27;break;case 23:_context2.prev=23;_context2.t2=_context2[\"catch\"](11);console.log('Problem getting fair launch token balance');console.log(_context2.t2);case 27:setContributed((state.state.currentMedian||state.state.data.priceRangeStart).toNumber()/LAMPORTS_PER_SOL);_context2.next=34;break;case 30:_context2.prev=30;_context2.t3=_context2[\"catch\"](2);console.log('Problem getting fair launch state');console.log(_context2.t3);case 34:if(!props.candyMachineId){_context2.next=48;break;}_context2.prev=35;_context2.next=38;return getCandyMachineState(anchorWallet,props.candyMachineId,props.connection);case 38:cndy=_context2.sent;setCandyMachine(cndy);_context2.next=46;break;case 42:_context2.prev=42;_context2.t4=_context2[\"catch\"](35);console.log('Problem getting candy machine state');console.log(_context2.t4);case 46:_context2.next=49;break;case 48:console.log('No candy machine detected in configuration.');case 49:case\"end\":return _context2.stop();}}},_callee2,null,[[2,30],[11,23],[35,42]]);}))();},[anchorWallet,props.candyMachineId,props.connection,props.fairLaunchId]);var min=formatNumber.asNumber(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.priceRangeStart);var max=formatNumber.asNumber(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.priceRangeEnd);var step=formatNumber.asNumber(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.tickSize);var median=formatNumber.asNumber(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.currentMedian);var marks=[{value:min||0,label:\"\".concat(min,\" SOL\")},// TODO:L\n{value:median||0,label:\"\".concat(median)},// display user comitted value\n// {\n//   value: 37,\n//   label: '37Â°C',\n// },\n{value:max||0,label:\"\".concat(max,\" SOL\")}].filter(function(_){return _!==undefined&&_.value!==0;});var onDeposit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(anchorWallet){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:console.log('deposit');setIsMinting(true);_context3.prev=4;_context3.next=7;return purchaseTicket(contributed,anchorWallet,fairLaunch);case 7:setIsMinting(false);setAlertState({open:true,message:\"Congratulations! Bid \".concat((fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)?'updated':'inserted',\"!\"),severity:'success'});_context3.next=16;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](4);console.log(_context3.t0);setIsMinting(false);setAlertState({open:true,message:'Something went wrong.',severity:'error'});case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[4,11]]);}));return function onDeposit(){return _ref3.apply(this,arguments);};}();var onRugRefund=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(anchorWallet){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:console.log('refund');_context4.prev=3;setIsMinting(true);_context4.next=7;return receiveRefund(anchorWallet,fairLaunch);case 7:setIsMinting(false);setAlertState({open:true,message:'Congratulations! You have received a refund. This is an irreversible action.',severity:'success'});_context4.next=16;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](3);console.log(_context4.t0);setIsMinting(false);setAlertState({open:true,message:'Something went wrong.',severity:'error'});case 16:case\"end\":return _context4.stop();}}},_callee4,null,[[3,11]]);}));return function onRugRefund(){return _ref4.apply(this,arguments);};}();var onRefundTicket=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(anchorWallet){_context5.next=2;break;}return _context5.abrupt(\"return\");case 2:console.log('refund');_context5.prev=3;setIsMinting(true);_context5.next=7;return purchaseTicket(0,anchorWallet,fairLaunch);case 7:setIsMinting(false);setAlertState({open:true,message:'Congratulations! Funds withdrawn. This is an irreversible action.',severity:'success'});_context5.next=16;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](3);console.log(_context5.t0);setIsMinting(false);setAlertState({open:true,message:'Something went wrong.',severity:'error'});case 16:case\"end\":return _context5.stop();}}},_callee5,null,[[3,11]]);}));return function onRefundTicket(){return _ref5.apply(this,arguments);};}();var onPunchTicket=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(!anchorWallet||!fairLaunch||!fairLaunch.ticket)){_context6.next=2;break;}return _context6.abrupt(\"return\");case 2:console.log('punch');setIsMinting(true);_context6.prev=4;_context6.next=7;return punchTicket(anchorWallet,fairLaunch);case 7:setIsMinting(false);setAlertState({open:true,message:'Congratulations! Ticket punched!',severity:'success'});_context6.next=16;break;case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](4);console.log(_context6.t0);setIsMinting(false);setAlertState({open:true,message:'Something went wrong.',severity:'error'});case 16:case\"end\":return _context6.stop();}}},_callee6,null,[[4,11]]);}));return function onPunchTicket(){return _ref6.apply(this,arguments);};}();var phase=getPhase(fairLaunch,candyMachine);var candyMachinePredatesFairLaunch=(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate)&&(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd)&&(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate.lt(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd));var notEnoughSOL=!!(yourSOLBalance!=null&&(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.priceRangeStart)&&(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.fee)&&yourSOLBalance+((fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket=fairLaunch.ticket)===null||_fairLaunch$ticket===void 0?void 0:(_fairLaunch$ticket$da5=_fairLaunch$ticket.data)===null||_fairLaunch$ticket$da5===void 0?void 0:_fairLaunch$ticket$da5.amount.toNumber())||0)<contributed*LAMPORTS_PER_SOL+(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.fee.toNumber())+0.01);return/*#__PURE__*/_jsxs(Container,{style:{marginTop:100},children:[/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",style:{position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Link,{component:\"button\",variant:\"body2\",color:\"textSecondary\",align:\"right\",onClick:function onClick(){setAnitRugPolicyOpen(true);},children:\"Anti-Rug Policy\"})})}),/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",style:{position:'relative'},children:/*#__PURE__*/_jsx(Paper,{style:{padding:24,backgroundColor:'#151A1F',borderRadius:6},children:/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"center\",direction:\"column\",children:[phase===Phase.Phase0&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 0',desc:'Anticipation Phase',date:fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseOneStart}),phase===Phase.Phase1&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 1',desc:'Set price phase',date:fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseOneEnd}),phase===Phase.Phase2&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 2',desc:'Grace period',date:fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd}),phase===Phase.Lottery&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 3',desc:'Raffle in progress',date:fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd.add(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.lotteryDuration)}),phase===Phase.Phase3&&!candyMachine&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 3',desc:'Raffle finished!',date:fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.phaseTwoEnd}),phase===Phase.Phase3&&candyMachine&&/*#__PURE__*/_jsx(Header,{phaseName:'Phase 3',desc:'Minting starts in...',date:candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate}),phase===Phase.Phase4&&/*#__PURE__*/_jsx(Header,{phaseName:candyMachinePredatesFairLaunch?'Phase 3':'Phase 4',desc:'Candy Time ðŸ¬ ðŸ¬ ðŸ¬',date:candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate,status:\"LIVE\"}),fairLaunch&&/*#__PURE__*/_jsx(Grid,{container:true,direction:\"column\",justifyContent:\"center\",alignItems:\"center\",style:{height:200,marginTop:20,marginBottom:20,background:'#384457',borderRadius:6},children:fairLaunch.ticket.data?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{children:\"Your bid\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",style:{fontWeight:900},children:[formatNumber.format(((fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da6=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da6===void 0?void 0:_fairLaunch$ticket$da6.amount.toNumber())||0)/LAMPORTS_PER_SOL),' ',\"SOL\"]})]}):[Phase.Phase0,Phase.Phase1].includes(phase)?/*#__PURE__*/_jsxs(Typography,{children:[\"You haven't entered this raffle yet. \",/*#__PURE__*/_jsx(\"br\",{}),(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$state=fairLaunch.state)===null||_fairLaunch$state===void 0?void 0:(_fairLaunch$state$dat=_fairLaunch$state.data)===null||_fairLaunch$state$dat===void 0?void 0:_fairLaunch$state$dat.fee)&&/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"All initial bids will incur a \\u25CE\",' ',(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$state2=fairLaunch.state)===null||_fairLaunch$state2===void 0?void 0:(_fairLaunch$state2$da=_fairLaunch$state2.data)===null||_fairLaunch$state2$da===void 0?void 0:_fairLaunch$state2$da.fee.toNumber())/LAMPORTS_PER_SOL,' ',\"fee.\"]})})]}):/*#__PURE__*/_jsx(Typography,{children:\"You didn't participate in this raffle.\"})}),fairLaunch&&/*#__PURE__*/_jsxs(_Fragment,{children:[[Phase.Phase1,Phase.Phase2,Phase.Phase3,Phase.Lottery].includes(phase)&&(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket2=fairLaunch.ticket)===null||_fairLaunch$ticket2===void 0?void 0:(_fairLaunch$ticket2$d=_fairLaunch$ticket2.data)===null||_fairLaunch$ticket2$d===void 0?void 0:_fairLaunch$ticket2$d.state.withdrawn)&&/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'15px'},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Your bid was withdrawn and cannot be adjusted or re-inserted.\"})}),[Phase.Phase1,Phase.Phase2].includes(phase)&&fairLaunch.state.currentMedian&&(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket3=fairLaunch.ticket)===null||_fairLaunch$ticket3===void 0?void 0:(_fairLaunch$ticket3$d=_fairLaunch$ticket3.data)===null||_fairLaunch$ticket3$d===void 0?void 0:_fairLaunch$ticket3$d.amount)&&!(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket4=fairLaunch.ticket)===null||_fairLaunch$ticket4===void 0?void 0:(_fairLaunch$ticket4$d=_fairLaunch$ticket4.data)===null||_fairLaunch$ticket4$d===void 0?void 0:_fairLaunch$ticket4$d.state.withdrawn)&&fairLaunch.state.currentMedian.gt(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket5=fairLaunch.ticket)===null||_fairLaunch$ticket5===void 0?void 0:(_fairLaunch$ticket5$d=_fairLaunch$ticket5.data)===null||_fairLaunch$ticket5$d===void 0?void 0:_fairLaunch$ticket5$d.amount)&&/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'15px'},children:/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:\"Your bid is currently below the median and will not be eligible for the raffle.\"})}),[Phase.Phase3,Phase.Lottery].includes(phase)&&fairLaunch.state.currentMedian&&(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket6=fairLaunch.ticket)===null||_fairLaunch$ticket6===void 0?void 0:(_fairLaunch$ticket6$d=_fairLaunch$ticket6.data)===null||_fairLaunch$ticket6$d===void 0?void 0:_fairLaunch$ticket6$d.amount)&&!(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket7=fairLaunch.ticket)===null||_fairLaunch$ticket7===void 0?void 0:(_fairLaunch$ticket7$d=_fairLaunch$ticket7.data)===null||_fairLaunch$ticket7$d===void 0?void 0:_fairLaunch$ticket7$d.state.withdrawn)&&fairLaunch.state.currentMedian.gt(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket8=fairLaunch.ticket)===null||_fairLaunch$ticket8===void 0?void 0:(_fairLaunch$ticket8$d=_fairLaunch$ticket8.data)===null||_fairLaunch$ticket8$d===void 0?void 0:_fairLaunch$ticket8$d.amount)&&/*#__PURE__*/_jsx(\"div\",{style:{paddingTop:'15px'},children:/*#__PURE__*/_jsxs(Alert,{severity:\"error\",children:[\"Your bid was below the median and was not included in the raffle. You may click \",/*#__PURE__*/_jsx(\"em\",{children:\"Withdraw\"}),\" when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury.\"]})}),notEnoughSOL&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"You do not have enough SOL in your account to place this bid.\"})]}),[Phase.Phase1,Phase.Phase2].includes(phase)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Grid,{style:{marginTop:40,marginBottom:20},children:/*#__PURE__*/_jsx(ValueSlider,{min:min,marks:marks,max:max,step:step,value:contributed,onChange:function onChange(ev,val){return setContributed(val);},valueLabelDisplay:\"auto\",style:{width:'calc(100% - 40px)',marginLeft:20,height:30}})})}),!wallet.connected?/*#__PURE__*/_jsxs(ConnectButton,{children:[\"Connect\",' ',[Phase.Phase1].includes(phase)?'to bid':'to see status']}):/*#__PURE__*/_jsxs(\"div\",{children:[[Phase.Phase1,Phase.Phase2].includes(phase)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MintButton,{onClick:onDeposit,variant:\"contained\",disabled:isMinting||!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)&&phase===Phase.Phase2||notEnoughSOL,children:isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)?'Place bid':'Change bid'})}),[Phase.Phase3].includes(phase)&&/*#__PURE__*/_jsxs(_Fragment,{children:[isWinner(fairLaunch,fairLaunchBalance)&&/*#__PURE__*/_jsx(MintButton,{onClick:onPunchTicket,variant:\"contained\",disabled:(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da7=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da7===void 0?void 0:_fairLaunch$ticket$da7.state.punched)!==undefined,children:isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):'Punch Ticket'}),!isWinner(fairLaunch,fairLaunchBalance)&&/*#__PURE__*/_jsx(MintButton,{onClick:onRefundTicket,variant:\"contained\",disabled:isMinting||(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)===undefined||(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da8=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da8===void 0?void 0:_fairLaunch$ticket$da8.state.withdrawn)!==undefined,children:isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):'Withdraw'})]}),phase===Phase.Phase4&&/*#__PURE__*/_jsxs(_Fragment,{children:[(!fairLaunch||isWinner(fairLaunch,fairLaunchBalance))&&/*#__PURE__*/_jsx(MintContainer,{children:/*#__PURE__*/_jsx(MintButton,{disabled:(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.isSoldOut)||isMinting||!(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.isActive)||(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket9=fairLaunch.ticket)===null||_fairLaunch$ticket9===void 0?void 0:(_fairLaunch$ticket9$d=_fairLaunch$ticket9.data)===null||_fairLaunch$ticket9$d===void 0?void 0:_fairLaunch$ticket9$d.state.punched)&&fairLaunchBalance===0,onClick:onMint,variant:\"contained\",children:(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket10=fairLaunch.ticket)===null||_fairLaunch$ticket10===void 0?void 0:(_fairLaunch$ticket10$=_fairLaunch$ticket10.data)===null||_fairLaunch$ticket10$===void 0?void 0:_fairLaunch$ticket10$.state.punched)&&fairLaunchBalance===0?'MINTED':(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.isSoldOut)?'SOLD OUT':isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):'MINT'})}),!isWinner(fairLaunch,fairLaunchBalance)&&/*#__PURE__*/_jsx(MintButton,{onClick:onRefundTicket,variant:\"contained\",disabled:isMinting||(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)===undefined||(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket$da9=fairLaunch.ticket.data)===null||_fairLaunch$ticket$da9===void 0?void 0:_fairLaunch$ticket$da9.state.withdrawn)!==undefined,children:isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):'Withdraw'})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",color:\"textSecondary\",children:[/*#__PURE__*/_jsx(Link,{component:\"button\",variant:\"body2\",color:\"textSecondary\",align:\"left\",onClick:function onClick(){setHowToOpen(true);},children:\"How this raffle works\"}),(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.ticket.data)&&/*#__PURE__*/_jsx(Link,{component:\"button\",variant:\"body2\",color:\"textSecondary\",align:\"right\",onClick:function onClick(){if(!fairLaunch||phase===Phase.Lottery||isWinner(fairLaunch,fairLaunchBalance)){setRefundExplainerOpen(true);}else{onRefundTicket();}},children:\"Withdraw funds\"})]}),/*#__PURE__*/_jsx(Dialog,{open:refundExplainerOpen,onClose:function onClose(){return setRefundExplainerOpen(false);},PaperProps:{style:{backgroundColor:'#222933',borderRadius:6}},children:/*#__PURE__*/_jsx(MuiDialogContent,{style:{padding:24},children:\"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed.\"})}),/*#__PURE__*/_jsx(Dialog,{open:antiRugPolicyOpen,onClose:function onClose(){setAnitRugPolicyOpen(false);},PaperProps:{style:{backgroundColor:'#222933',borderRadius:6}},children:/*#__PURE__*/_jsxs(MuiDialogContent,{style:{padding:24},children:[!(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.antiRugSetting)&&/*#__PURE__*/_jsx(\"span\",{children:\"This Fair Launch has no anti-rug settings.\"}),(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.data.antiRugSetting)&&fairLaunch.state.data.antiRugSetting.selfDestructDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Anti-Rug Policy\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This raffle is governed by a smart contract to prevent the artist from running away with your money.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"How it works:\"}),\"This project will retain\",' ',fairLaunch.state.data.antiRugSetting.reserveBp/100,\"% (\\u25CE\",' ',(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.treasury)*fairLaunch.state.data.antiRugSetting.reserveBp/(LAMPORTS_PER_SOL*10000),\") of the pledged amount in a locked state until all but\",' ',fairLaunch.state.data.antiRugSetting.tokenRequirement.toNumber(),' ',\"NFTs (out of up to\",' ',fairLaunch.state.data.numberOfTokens.toNumber(),\") have been minted.\",/*#__PURE__*/_jsxs(\"p\",{children:[\"If more than\",' ',fairLaunch.state.data.antiRugSetting.tokenRequirement.toNumber(),' ',\"NFTs remain as of\",' ',(_toDate5=toDate(fairLaunch.state.data.antiRugSetting.selfDestructDate))===null||_toDate5===void 0?void 0:_toDate5.toLocaleDateString(),' ',\"at\",' ',(_toDate6=toDate(fairLaunch.state.data.antiRugSetting.selfDestructDate))===null||_toDate6===void 0?void 0:_toDate6.toLocaleTimeString(),\", you will have the option to get a refund of\",' ',fairLaunch.state.data.antiRugSetting.reserveBp/100,\"% of the cost of your token.\"]}),(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket11=fairLaunch.ticket)===null||_fairLaunch$ticket11===void 0?void 0:_fairLaunch$ticket11.data)&&!(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket12=fairLaunch.ticket)===null||_fairLaunch$ticket12===void 0?void 0:_fairLaunch$ticket12.data.state.withdrawn)&&/*#__PURE__*/_jsx(MintButton,{onClick:onRugRefund,variant:\"contained\",disabled:!!!fairLaunch.ticket.data||!fairLaunch.ticket.data.state.punched||Date.now()/1000<fairLaunch.state.data.antiRugSetting.selfDestructDate.toNumber(),children:isMinting?/*#__PURE__*/_jsx(CircularProgress,{}):Date.now()/1000<fairLaunch.state.data.antiRugSetting.selfDestructDate.toNumber()?/*#__PURE__*/_jsxs(\"span\",{children:[\"Refund in...\",/*#__PURE__*/_jsx(Countdown,{date:toDate(fairLaunch.state.data.antiRugSetting.selfDestructDate)})]}):'Refund'}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'-5px'},children:(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket13=fairLaunch.ticket)===null||_fairLaunch$ticket13===void 0?void 0:_fairLaunch$ticket13.data)&&!(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$ticket14=fairLaunch.ticket)===null||_fairLaunch$ticket14===void 0?void 0:(_fairLaunch$ticket14$=_fairLaunch$ticket14.data)===null||_fairLaunch$ticket14$===void 0?void 0:_fairLaunch$ticket14$.state.punched)&&/*#__PURE__*/_jsx(\"small\",{children:\"You currently have a ticket but it has not been punched yet, so cannot be refunded.\"})})]})]})}),/*#__PURE__*/_jsxs(Dialog,{open:howToOpen,onClose:function onClose(){return setHowToOpen(false);},PaperProps:{style:{backgroundColor:'#222933',borderRadius:6}},children:[/*#__PURE__*/_jsxs(MuiDialogTitle,{disableTypography:true,style:{display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Link,{component:\"button\",variant:\"h6\",color:\"textSecondary\",onClick:function onClick(){setHowToOpen(true);},children:\"How it works\"}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",className:dialogStyles.closeButton,onClick:function onClick(){return setHowToOpen(false);},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsxs(MuiDialogContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Phase 1 - Set the fair price:\"}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,color:\"textSecondary\",children:[\"Enter a bid in the range provided by the artist. The median of all bids will be the \\\"fair\\\" price of the raffle ticket.\",' ',(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$state3=fairLaunch.state)===null||_fairLaunch$state3===void 0?void 0:(_fairLaunch$state3$da=_fairLaunch$state3.data)===null||_fairLaunch$state3$da===void 0?void 0:_fairLaunch$state3$da.fee)&&/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[\"All bids will incur a \\u25CE\",' ',(fairLaunch===null||fairLaunch===void 0?void 0:(_fairLaunch$state4=fairLaunch.state)===null||_fairLaunch$state4===void 0?void 0:(_fairLaunch$state4$da=_fairLaunch$state4.data)===null||_fairLaunch$state4$da===void 0?void 0:_fairLaunch$state4$da.fee.toNumber())/LAMPORTS_PER_SOL,' ',\"fee.\"]})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Phase 2 - Grace period:\"}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,color:\"textSecondary\",children:\"If your bid was at or above the fair price, you automatically get a raffle ticket at that price. There's nothing else you need to do. Your excess SOL will be returned to you when the Fair Launch authority withdraws from the treasury. If your bid is below the median price, you can still opt in at the fair price during this phase.\"}),candyMachinePredatesFairLaunch?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Phase 3 - The Candy Machine:\"}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,color:\"textSecondary\",children:\"Everyone who got a raffle ticket at the fair price is entered to win an NFT. If you win an NFT, congrats. If you don\\u2019t, no worries, your SOL will go right back into your wallet.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Phase 3 - The Lottery:\"}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,color:\"textSecondary\",children:\"Everyone who got a raffle ticket at the fair price is entered to win a Fair Launch Token that entitles them to an NFT at a later date using a Candy Machine here. If you don\\u2019t win, no worries, your SOL will go right back into your wallet.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Phase 4 - The Candy Machine:\"}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,color:\"textSecondary\",children:[\"On\",' ',(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate)?(_toDate7=toDate(candyMachine===null||candyMachine===void 0?void 0:candyMachine.state.goLiveDate))===null||_toDate7===void 0?void 0:_toDate7.toLocaleString():' some later date',\", you will be able to exchange your Fair Launch token for an NFT using the Candy Machine at this site by pressing the Mint Button.\"]})]})]})]})]})})}),fairLaunch&&/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",style:{position:'relative',marginTop:10},children:/*#__PURE__*/_jsx(\"div\",{style:{margin:20},children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"row\",wrap:\"nowrap\",children:[/*#__PURE__*/_jsxs(Grid,{container:true,md:4,direction:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Bids\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:'bold'},children:(fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.state.numberTicketsSold.toNumber())||0})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:4,direction:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Median bid\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:'bold'},children:[\"\\u25CE \",formatNumber.format(median)]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,md:4,direction:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Total raised\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"textPrimary\",style:{fontWeight:'bold'},children:[\"\\u25CE\",' ',formatNumber.format(((fairLaunch===null||fairLaunch===void 0?void 0:fairLaunch.treasury)||0)/LAMPORTS_PER_SOL)]})]})]})})}),/*#__PURE__*/_jsx(Snackbar,{open:alertState.open,autoHideDuration:6000,onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};export default Home;","map":{"version":3,"sources":["/Users/timgillam/Documents/GitHub/metaplex_new/new-metaplex/js/packages/fair-launch/src/Home.tsx"],"names":["useEffect","useMemo","useState","styled","CircularProgress","Container","IconButton","Link","Slider","Snackbar","Button","Paper","Typography","Grid","createStyles","PhaseCountdown","Dialog","MuiDialogTitle","MuiDialogContent","CloseIcon","Alert","LAMPORTS_PER_SOL","useWallet","WalletDialogButton","awaitTransactionSignatureConfirmation","getCandyMachineState","mintOneToken","getFairLaunchState","punchTicket","purchaseTicket","receiveRefund","formatNumber","getAtaForMint","toDate","Countdown","ConnectButton","MintContainer","div","MintButton","dialogStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","ValueSlider","height","border","width","marginTop","background","boxShadow","display","lineHeight","fontSize","marginLeft","Phase","Header","props","phaseName","desc","date","status","fontWeight","justifyContent","getPhase","fairLaunch","candyMachine","curr","Date","getTime","phaseOne","state","data","phaseOneStart","phaseOneEnd","phaseTwoEnd","candyMachineGoLive","goLiveDate","Phase0","Phase1","Phase2","phaseThreeStarted","Lottery","Phase4","Phase3","Unknown","FAIR_LAUNCH_LOTTERY_SIZE","isWinner","fairLaunchBalance","lottery","length","ticket","seq","myByte","Math","floor","toNumber","positionFromRight","mask","pow","Home","setFairLaunchBalance","yourSOLBalance","setYourSOLBalance","isMinting","setIsMinting","contributed","setContributed","wallet","anchorWallet","publicKey","signAllTransactions","signTransaction","open","message","severity","undefined","alertState","setAlertState","setFairLaunch","setCandyMachine","howToOpen","setHowToOpen","refundExplainerOpen","setRefundExplainerOpen","antiRugPolicyOpen","setAnitRugPolicyOpen","onMint","connected","program","unpunched","onPunchTicket","mintTxId","txTimeout","connection","err","msg","indexOf","code","window","location","reload","getBalance","balance","fairLaunchId","tokenMint","getTokenAccountBalance","value","uiAmount","console","log","currentMedian","priceRangeStart","candyMachineId","cndy","min","asNumber","max","priceRangeEnd","step","tickSize","median","marks","label","filter","_","onDeposit","onRugRefund","onRefundTicket","phase","candyMachinePredatesFairLaunch","lt","notEnoughSOL","fee","amount","flexDirection","backgroundColor","borderRadius","add","lotteryDuration","marginBottom","format","includes","withdrawn","paddingTop","gt","ev","val","punched","isSoldOut","isActive","style","antiRugSetting","selfDestructDate","reserveBp","treasury","tokenRequirement","numberOfTokens","toLocaleDateString","toLocaleTimeString","now","textAlign","alignItems","toLocaleString","numberTicketsSold"],"mappings":"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","sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  CircularProgress,\n  Container,\n  IconButton,\n  Link,\n  Slider,\n  Snackbar,\n} from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { createStyles, Theme } from '@material-ui/core/styles';\nimport { PhaseCountdown } from './countdown';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport Alert from '@material-ui/lab/Alert';\n\nimport * as anchor from '@project-serum/anchor';\n\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js';\n\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { WalletDialogButton } from '@solana/wallet-adapter-material-ui';\n\nimport {\n  awaitTransactionSignatureConfirmation,\n  CandyMachineAccount,\n  getCandyMachineState,\n  mintOneToken,\n} from './candy-machine';\n\nimport {\n  FairLaunchAccount,\n  getFairLaunchState,\n  punchTicket,\n  purchaseTicket,\n  receiveRefund,\n} from './fair-launch';\n\nimport { formatNumber, getAtaForMint, toDate } from './utils';\nimport Countdown from 'react-countdown';\n\nconst ConnectButton = styled(WalletDialogButton)`\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n`;\n\nconst MintContainer = styled.div``; // add your styles here\n\nconst MintButton = styled(Button)`\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n`; // add your styles here\n\nconst dialogStyles: any = (theme: Theme) =>\n  createStyles({\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n  });\n\nconst ValueSlider = styled(Slider)({\n  color: '#C0D5FE',\n  height: 8,\n  '& > *': {\n    height: 4,\n  },\n  '& .MuiSlider-track': {\n    border: 'none',\n    height: 4,\n  },\n  '& .MuiSlider-thumb': {\n    height: 24,\n    width: 24,\n    marginTop: -10,\n    background: 'linear-gradient(180deg, #604AE5 0%, #813EEE 100%)',\n    border: '2px solid currentColor',\n    '&:focus, &:hover, &.Mui-active, &.Mui-focusVisible': {\n      boxShadow: 'inherit',\n    },\n    '&:before': {\n      display: 'none',\n    },\n  },\n  '& .MuiSlider-valueLabel': {\n    '& > *': {\n      background: 'linear-gradient(180deg, #604AE5 0%, #813EEE 100%)',\n    },\n    lineHeight: 1.2,\n    fontSize: 12,\n    padding: 0,\n    width: 32,\n    height: 32,\n    marginLeft: 9,\n  },\n});\n\nenum Phase {\n  Phase0,\n  Phase1,\n  Phase2,\n  Lottery,\n  Phase3,\n  Phase4,\n  Unknown,\n}\n\nconst Header = (props: {\n  phaseName: string;\n  desc: string;\n  date: anchor.BN | undefined;\n  status?: string;\n}) => {\n  const { phaseName, desc, date, status } = props;\n  return (\n    <Grid container justifyContent=\"center\">\n      <Grid xs={6} justifyContent=\"center\" direction=\"column\">\n        <Typography variant=\"h5\" style={{ fontWeight: 600 }}>\n          {phaseName}\n        </Typography>\n        <Typography variant=\"body1\" color=\"textSecondary\">\n          {desc}\n        </Typography>\n      </Grid>\n      <Grid xs={6} container justifyContent=\"flex-end\">\n        <PhaseCountdown\n          date={toDate(date)}\n          style={{ justifyContent: 'flex-end' }}\n          status={status || 'COMPLETE'}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nfunction getPhase(\n  fairLaunch: FairLaunchAccount | undefined,\n  candyMachine: CandyMachineAccount | undefined,\n): Phase {\n  const curr = new Date().getTime();\n\n  const phaseOne = toDate(fairLaunch?.state.data.phaseOneStart)?.getTime();\n  const phaseOneEnd = toDate(fairLaunch?.state.data.phaseOneEnd)?.getTime();\n  const phaseTwoEnd = toDate(fairLaunch?.state.data.phaseTwoEnd)?.getTime();\n  const candyMachineGoLive = toDate(candyMachine?.state.goLiveDate)?.getTime();\n\n  if (phaseOne && curr < phaseOne) {\n    return Phase.Phase0;\n  } else if (phaseOneEnd && curr <= phaseOneEnd) {\n    return Phase.Phase1;\n  } else if (phaseTwoEnd && curr <= phaseTwoEnd) {\n    return Phase.Phase2;\n  } else if (!fairLaunch?.state.phaseThreeStarted) {\n    return Phase.Lottery;\n  } else if (\n    fairLaunch?.state.phaseThreeStarted &&\n    candyMachineGoLive &&\n    curr > candyMachineGoLive\n  ) {\n    return Phase.Phase4;\n  } else if (fairLaunch?.state.phaseThreeStarted) {\n    return Phase.Phase3;\n  }\n\n  return Phase.Unknown;\n}\n\nexport interface HomeProps {\n  candyMachineId?: anchor.web3.PublicKey;\n  fairLaunchId: anchor.web3.PublicKey;\n  connection: anchor.web3.Connection;\n  startDate: number;\n  txTimeout: number;\n}\n\nconst FAIR_LAUNCH_LOTTERY_SIZE =\n  8 + // discriminator\n  32 + // fair launch\n  1 + // bump\n  8; // size of bitmask ones\n\nconst isWinner = (\n  fairLaunch: FairLaunchAccount | undefined,\n  fairLaunchBalance: number,\n): boolean => {\n  if (fairLaunchBalance > 0) return true;\n  if (\n    !fairLaunch?.lottery.data ||\n    !fairLaunch?.lottery.data.length ||\n    !fairLaunch?.ticket.data?.seq ||\n    !fairLaunch?.state.phaseThreeStarted\n  ) {\n    return false;\n  }\n\n  const myByte =\n    fairLaunch.lottery.data[\n      FAIR_LAUNCH_LOTTERY_SIZE +\n        Math.floor(fairLaunch.ticket.data?.seq.toNumber() / 8)\n    ];\n\n  const positionFromRight = 7 - (fairLaunch.ticket.data?.seq.toNumber() % 8);\n  const mask = Math.pow(2, positionFromRight);\n  const isWinner = myByte & mask;\n  return isWinner > 0;\n};\n\nconst Home = (props: HomeProps) => {\n  const [fairLaunchBalance, setFairLaunchBalance] = useState<number>(0);\n  const [yourSOLBalance, setYourSOLBalance] = useState<number | null>(null);\n\n  const [isMinting, setIsMinting] = useState(false); // true when user got to press MINT\n  const [contributed, setContributed] = useState(0);\n\n  const wallet = useWallet();\n\n  const anchorWallet = useMemo(() => {\n    if (\n      !wallet ||\n      !wallet.publicKey ||\n      !wallet.signAllTransactions ||\n      !wallet.signTransaction\n    ) {\n      return;\n    }\n\n    return {\n      publicKey: wallet.publicKey,\n      signAllTransactions: wallet.signAllTransactions,\n      signTransaction: wallet.signTransaction,\n    } as anchor.Wallet;\n  }, [wallet]);\n\n  const [alertState, setAlertState] = useState<AlertState>({\n    open: false,\n    message: '',\n    severity: undefined,\n  });\n\n  const [fairLaunch, setFairLaunch] = useState<FairLaunchAccount>();\n  const [candyMachine, setCandyMachine] = useState<CandyMachineAccount>();\n  const [howToOpen, setHowToOpen] = useState(false);\n  const [refundExplainerOpen, setRefundExplainerOpen] = useState(false);\n  const [antiRugPolicyOpen, setAnitRugPolicyOpen] = useState(false);\n\n  const onMint = async () => {\n    try {\n      setIsMinting(true);\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\n        if (\n          fairLaunch?.ticket.data?.state.unpunched &&\n          isWinner(fairLaunch, fairLaunchBalance)\n        ) {\n          await onPunchTicket();\n        }\n\n        const mintTxId = await mintOneToken(candyMachine, wallet.publicKey);\n\n        const status = await awaitTransactionSignatureConfirmation(\n          mintTxId,\n          props.txTimeout,\n          props.connection,\n          'singleGossip',\n          false,\n        );\n\n        if (!status?.err) {\n          setAlertState({\n            open: true,\n            message: 'Congratulations! Mint succeeded!',\n            severity: 'success',\n          });\n        } else {\n          setAlertState({\n            open: true,\n            message: 'Mint failed! Please try again!',\n            severity: 'error',\n          });\n        }\n      }\n    } catch (error: any) {\n      // TODO: blech:\n      let message = error.msg || 'Minting failed! Please try again!';\n      if (!error.msg) {\n        if (!error.message) {\n          message = 'Transaction Timeout! Please try again.';\n        } else if (error.message.indexOf('0x138')) {\n        } else if (error.message.indexOf('0x137')) {\n          message = `SOLD OUT!`;\n        } else if (error.message.indexOf('0x135')) {\n          message = `Insufficient funds to mint. Please fund your wallet.`;\n        }\n      } else {\n        if (error.code === 311) {\n          message = `SOLD OUT!`;\n          window.location.reload();\n        } else if (error.code === 312) {\n          message = `Minting period hasn't started yet.`;\n        }\n      }\n\n      setAlertState({\n        open: true,\n        message,\n        severity: 'error',\n      });\n    } finally {\n      setIsMinting(false);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (!anchorWallet) {\n        return;\n      }\n\n      try {\n        const balance = await props.connection.getBalance(\n          anchorWallet.publicKey,\n        );\n        setYourSOLBalance(balance);\n\n        const state = await getFairLaunchState(\n          anchorWallet,\n          props.fairLaunchId,\n          props.connection,\n        );\n\n        setFairLaunch(state);\n\n        try {\n          if (state.state.tokenMint) {\n            const fairLaunchBalance =\n              await props.connection.getTokenAccountBalance(\n                (\n                  await getAtaForMint(\n                    state.state.tokenMint,\n                    anchorWallet.publicKey,\n                  )\n                )[0],\n              );\n\n            if (fairLaunchBalance.value) {\n              setFairLaunchBalance(fairLaunchBalance.value.uiAmount || 0);\n            }\n          }\n        } catch (e) {\n          console.log('Problem getting fair launch token balance');\n          console.log(e);\n        }\n        setContributed(\n          (\n            state.state.currentMedian || state.state.data.priceRangeStart\n          ).toNumber() / LAMPORTS_PER_SOL,\n        );\n      } catch (e) {\n        console.log('Problem getting fair launch state');\n        console.log(e);\n      }\n      if (props.candyMachineId) {\n        try {\n          const cndy = await getCandyMachineState(\n            anchorWallet,\n            props.candyMachineId,\n            props.connection,\n          );\n          setCandyMachine(cndy);\n        } catch (e) {\n          console.log('Problem getting candy machine state');\n          console.log(e);\n        }\n      } else {\n        console.log('No candy machine detected in configuration.');\n      }\n    })();\n  }, [\n    anchorWallet,\n    props.candyMachineId,\n    props.connection,\n    props.fairLaunchId,\n  ]);\n\n  const min = formatNumber.asNumber(fairLaunch?.state.data.priceRangeStart);\n  const max = formatNumber.asNumber(fairLaunch?.state.data.priceRangeEnd);\n  const step = formatNumber.asNumber(fairLaunch?.state.data.tickSize);\n  const median = formatNumber.asNumber(fairLaunch?.state.currentMedian);\n  const marks = [\n    {\n      value: min || 0,\n      label: `${min} SOL`,\n    },\n    // TODO:L\n    {\n      value: median || 0,\n      label: `${median}`,\n    },\n    // display user comitted value\n    // {\n    //   value: 37,\n    //   label: '37Â°C',\n    // },\n    {\n      value: max || 0,\n      label: `${max} SOL`,\n    },\n  ].filter(_ => _ !== undefined && _.value !== 0) as any;\n\n  const onDeposit = async () => {\n    if (!anchorWallet) {\n      return;\n    }\n\n    console.log('deposit');\n    setIsMinting(true);\n    try {\n      await purchaseTicket(contributed, anchorWallet, fairLaunch);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: `Congratulations! Bid ${\n          fairLaunch?.ticket.data ? 'updated' : 'inserted'\n        }!`,\n        severity: 'success',\n      });\n    } catch (e) {\n      console.log(e);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: 'Something went wrong.',\n        severity: 'error',\n      });\n    }\n  };\n  const onRugRefund = async () => {\n    if (!anchorWallet) {\n      return;\n    }\n\n    console.log('refund');\n    try {\n      setIsMinting(true);\n      await receiveRefund(anchorWallet, fairLaunch);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message:\n          'Congratulations! You have received a refund. This is an irreversible action.',\n        severity: 'success',\n      });\n    } catch (e) {\n      console.log(e);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: 'Something went wrong.',\n        severity: 'error',\n      });\n    }\n  };\n  const onRefundTicket = async () => {\n    if (!anchorWallet) {\n      return;\n    }\n\n    console.log('refund');\n    try {\n      setIsMinting(true);\n      await purchaseTicket(0, anchorWallet, fairLaunch);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message:\n          'Congratulations! Funds withdrawn. This is an irreversible action.',\n        severity: 'success',\n      });\n    } catch (e) {\n      console.log(e);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: 'Something went wrong.',\n        severity: 'error',\n      });\n    }\n  };\n\n  const onPunchTicket = async () => {\n    if (!anchorWallet || !fairLaunch || !fairLaunch.ticket) {\n      return;\n    }\n\n    console.log('punch');\n    setIsMinting(true);\n    try {\n      await punchTicket(anchorWallet, fairLaunch);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: 'Congratulations! Ticket punched!',\n        severity: 'success',\n      });\n    } catch (e) {\n      console.log(e);\n      setIsMinting(false);\n      setAlertState({\n        open: true,\n        message: 'Something went wrong.',\n        severity: 'error',\n      });\n    }\n  };\n\n  const phase = getPhase(fairLaunch, candyMachine);\n\n  const candyMachinePredatesFairLaunch =\n    candyMachine?.state.goLiveDate &&\n    fairLaunch?.state.data.phaseTwoEnd &&\n    candyMachine?.state.goLiveDate.lt(fairLaunch?.state.data.phaseTwoEnd);\n\n  const notEnoughSOL = !!(\n    yourSOLBalance != null &&\n    fairLaunch?.state.data.priceRangeStart &&\n    fairLaunch?.state.data.fee &&\n    yourSOLBalance + (fairLaunch?.ticket?.data?.amount.toNumber() || 0) <\n      contributed * LAMPORTS_PER_SOL +\n        fairLaunch?.state.data.fee.toNumber() +\n        0.01\n  );\n\n  return (\n    <Container style={{ marginTop: 100 }}>\n      <Container maxWidth=\"xs\" style={{ position: 'relative' }}>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n          }}\n        >\n          <Link\n            component=\"button\"\n            variant=\"body2\"\n            color=\"textSecondary\"\n            align=\"right\"\n            onClick={() => {\n              setAnitRugPolicyOpen(true);\n            }}\n          >\n            Anti-Rug Policy\n          </Link>\n        </div>\n      </Container>\n      <Container maxWidth=\"xs\" style={{ position: 'relative' }}>\n        <Paper\n          style={{ padding: 24, backgroundColor: '#151A1F', borderRadius: 6 }}\n        >\n          <Grid container justifyContent=\"center\" direction=\"column\">\n            {phase === Phase.Phase0 && (\n              <Header\n                phaseName={'Phase 0'}\n                desc={'Anticipation Phase'}\n                date={fairLaunch?.state.data.phaseOneStart}\n              />\n            )}\n            {phase === Phase.Phase1 && (\n              <Header\n                phaseName={'Phase 1'}\n                desc={'Set price phase'}\n                date={fairLaunch?.state.data.phaseOneEnd}\n              />\n            )}\n\n            {phase === Phase.Phase2 && (\n              <Header\n                phaseName={'Phase 2'}\n                desc={'Grace period'}\n                date={fairLaunch?.state.data.phaseTwoEnd}\n              />\n            )}\n\n            {phase === Phase.Lottery && (\n              <Header\n                phaseName={'Phase 3'}\n                desc={'Raffle in progress'}\n                date={fairLaunch?.state.data.phaseTwoEnd.add(\n                  fairLaunch?.state.data.lotteryDuration,\n                )}\n              />\n            )}\n\n            {phase === Phase.Phase3 && !candyMachine && (\n              <Header\n                phaseName={'Phase 3'}\n                desc={'Raffle finished!'}\n                date={fairLaunch?.state.data.phaseTwoEnd}\n              />\n            )}\n\n            {phase === Phase.Phase3 && candyMachine && (\n              <Header\n                phaseName={'Phase 3'}\n                desc={'Minting starts in...'}\n                date={candyMachine?.state.goLiveDate}\n              />\n            )}\n\n            {phase === Phase.Phase4 && (\n              <Header\n                phaseName={\n                  candyMachinePredatesFairLaunch ? 'Phase 3' : 'Phase 4'\n                }\n                desc={'Candy Time ðŸ¬ ðŸ¬ ðŸ¬'}\n                date={candyMachine?.state.goLiveDate}\n                status=\"LIVE\"\n              />\n            )}\n\n            {fairLaunch && (\n              <Grid\n                container\n                direction=\"column\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                style={{\n                  height: 200,\n                  marginTop: 20,\n                  marginBottom: 20,\n                  background: '#384457',\n                  borderRadius: 6,\n                }}\n              >\n                {fairLaunch.ticket.data ? (\n                  <>\n                    <Typography>Your bid</Typography>\n                    <Typography variant=\"h6\" style={{ fontWeight: 900 }}>\n                      {formatNumber.format(\n                        (fairLaunch?.ticket.data?.amount.toNumber() || 0) /\n                          LAMPORTS_PER_SOL,\n                      )}{' '}\n                      SOL\n                    </Typography>\n                  </>\n                ) : [Phase.Phase0, Phase.Phase1].includes(phase) ? (\n                  <Typography>\n                    You haven't entered this raffle yet. <br />\n                    {fairLaunch?.state?.data?.fee && (\n                      <span>\n                        <b>\n                          All initial bids will incur a â—Ž{' '}\n                          {fairLaunch?.state?.data?.fee.toNumber() /\n                            LAMPORTS_PER_SOL}{' '}\n                          fee.\n                        </b>\n                      </span>\n                    )}\n                  </Typography>\n                ) : (\n                  <Typography>\n                    You didn't participate in this raffle.\n                  </Typography>\n                )}\n              </Grid>\n            )}\n\n            {fairLaunch && (\n              <>\n                {[\n                  Phase.Phase1,\n                  Phase.Phase2,\n                  Phase.Phase3,\n                  Phase.Lottery,\n                ].includes(phase) &&\n                  fairLaunch?.ticket?.data?.state.withdrawn && (\n                    <div style={{ paddingTop: '15px' }}>\n                      <Alert severity=\"error\">\n                        Your bid was withdrawn and cannot be adjusted or\n                        re-inserted.\n                      </Alert>\n                    </div>\n                  )}\n                {[Phase.Phase1, Phase.Phase2].includes(phase) &&\n                  fairLaunch.state.currentMedian &&\n                  fairLaunch?.ticket?.data?.amount &&\n                  !fairLaunch?.ticket?.data?.state.withdrawn &&\n                  fairLaunch.state.currentMedian.gt(\n                    fairLaunch?.ticket?.data?.amount,\n                  ) && (\n                    <div style={{ paddingTop: '15px' }}>\n                      <Alert severity=\"warning\">\n                        Your bid is currently below the median and will not be\n                        eligible for the raffle.\n                      </Alert>\n                    </div>\n                  )}\n                {[Phase.Phase3, Phase.Lottery].includes(phase) &&\n                  fairLaunch.state.currentMedian &&\n                  fairLaunch?.ticket?.data?.amount &&\n                  !fairLaunch?.ticket?.data?.state.withdrawn &&\n                  fairLaunch.state.currentMedian.gt(\n                    fairLaunch?.ticket?.data?.amount,\n                  ) && (\n                    <div style={{ paddingTop: '15px' }}>\n                      <Alert severity=\"error\">\n                        Your bid was below the median and was not included in\n                        the raffle. You may click <em>Withdraw</em> when the\n                        raffle ends or you will be automatically issued one when\n                        the Fair Launch authority withdraws from the treasury.\n                      </Alert>\n                    </div>\n                  )}\n                {notEnoughSOL && (\n                  <Alert severity=\"error\">\n                    You do not have enough SOL in your account to place this\n                    bid.\n                  </Alert>\n                )}\n              </>\n            )}\n\n            {[Phase.Phase1, Phase.Phase2].includes(phase) && (\n              <>\n                <Grid style={{ marginTop: 40, marginBottom: 20 }}>\n                  <ValueSlider\n                    min={min}\n                    marks={marks}\n                    max={max}\n                    step={step}\n                    value={contributed}\n                    onChange={(ev, val) => setContributed(val as any)}\n                    valueLabelDisplay=\"auto\"\n                    style={{\n                      width: 'calc(100% - 40px)',\n                      marginLeft: 20,\n                      height: 30,\n                    }}\n                  />\n                </Grid>\n              </>\n            )}\n\n            {!wallet.connected ? (\n              <ConnectButton>\n                Connect{' '}\n                {[Phase.Phase1].includes(phase) ? 'to bid' : 'to see status'}\n              </ConnectButton>\n            ) : (\n              <div>\n                {[Phase.Phase1, Phase.Phase2].includes(phase) && (\n                  <>\n                    <MintButton\n                      onClick={onDeposit}\n                      variant=\"contained\"\n                      disabled={\n                        isMinting ||\n                        (!fairLaunch?.ticket.data && phase === Phase.Phase2) ||\n                        notEnoughSOL\n                      }\n                    >\n                      {isMinting ? (\n                        <CircularProgress />\n                      ) : !fairLaunch?.ticket.data ? (\n                        'Place bid'\n                      ) : (\n                        'Change bid'\n                      )}\n                      {}\n                    </MintButton>\n                  </>\n                )}\n\n                {[Phase.Phase3].includes(phase) && (\n                  <>\n                    {isWinner(fairLaunch, fairLaunchBalance) && (\n                      <MintButton\n                        onClick={onPunchTicket}\n                        variant=\"contained\"\n                        disabled={\n                          fairLaunch?.ticket.data?.state.punched !== undefined\n                        }\n                      >\n                        {isMinting ? <CircularProgress /> : 'Punch Ticket'}\n                      </MintButton>\n                    )}\n\n                    {!isWinner(fairLaunch, fairLaunchBalance) && (\n                      <MintButton\n                        onClick={onRefundTicket}\n                        variant=\"contained\"\n                        disabled={\n                          isMinting ||\n                          fairLaunch?.ticket.data === undefined ||\n                          fairLaunch?.ticket.data?.state.withdrawn !== undefined\n                        }\n                      >\n                        {isMinting ? <CircularProgress /> : 'Withdraw'}\n                      </MintButton>\n                    )}\n                  </>\n                )}\n\n                {phase === Phase.Phase4 && (\n                  <>\n                    {(!fairLaunch ||\n                      isWinner(fairLaunch, fairLaunchBalance)) && (\n                      <MintContainer>\n                        <MintButton\n                          disabled={\n                            candyMachine?.state.isSoldOut ||\n                            isMinting ||\n                            !candyMachine?.state.isActive ||\n                            (fairLaunch?.ticket?.data?.state.punched &&\n                              fairLaunchBalance === 0)\n                          }\n                          onClick={onMint}\n                          variant=\"contained\"\n                        >\n                          {fairLaunch?.ticket?.data?.state.punched &&\n                          fairLaunchBalance === 0 ? (\n                            'MINTED'\n                          ) : candyMachine?.state.isSoldOut ? (\n                            'SOLD OUT'\n                          ) : isMinting ? (\n                            <CircularProgress />\n                          ) : (\n                            'MINT'\n                          )}\n                        </MintButton>\n                      </MintContainer>\n                    )}\n\n                    {!isWinner(fairLaunch, fairLaunchBalance) && (\n                      <MintButton\n                        onClick={onRefundTicket}\n                        variant=\"contained\"\n                        disabled={\n                          isMinting ||\n                          fairLaunch?.ticket.data === undefined ||\n                          fairLaunch?.ticket.data?.state.withdrawn !== undefined\n                        }\n                      >\n                        {isMinting ? <CircularProgress /> : 'Withdraw'}\n                      </MintButton>\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n\n            <Grid\n              container\n              justifyContent=\"space-between\"\n              color=\"textSecondary\"\n            >\n              <Link\n                component=\"button\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n                align=\"left\"\n                onClick={() => {\n                  setHowToOpen(true);\n                }}\n              >\n                How this raffle works\n              </Link>\n              {fairLaunch?.ticket.data && (\n                <Link\n                  component=\"button\"\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                  align=\"right\"\n                  onClick={() => {\n                    if (\n                      !fairLaunch ||\n                      phase === Phase.Lottery ||\n                      isWinner(fairLaunch, fairLaunchBalance)\n                    ) {\n                      setRefundExplainerOpen(true);\n                    } else {\n                      onRefundTicket();\n                    }\n                  }}\n                >\n                  Withdraw funds\n                </Link>\n              )}\n            </Grid>\n            <Dialog\n              open={refundExplainerOpen}\n              onClose={() => setRefundExplainerOpen(false)}\n              PaperProps={{\n                style: { backgroundColor: '#222933', borderRadius: 6 },\n              }}\n            >\n              <MuiDialogContent style={{ padding: 24 }}>\n                During raffle phases, or if you are a winner, or if this website\n                is not configured to be a fair launch but simply a candy\n                machine, refunds are disallowed.\n              </MuiDialogContent>\n            </Dialog>\n            <Dialog\n              open={antiRugPolicyOpen}\n              onClose={() => {\n                setAnitRugPolicyOpen(false);\n              }}\n              PaperProps={{\n                style: { backgroundColor: '#222933', borderRadius: 6 },\n              }}\n            >\n              <MuiDialogContent style={{ padding: 24 }}>\n                {!fairLaunch?.state.data.antiRugSetting && (\n                  <span>This Fair Launch has no anti-rug settings.</span>\n                )}\n                {fairLaunch?.state.data.antiRugSetting &&\n                  fairLaunch.state.data.antiRugSetting.selfDestructDate && (\n                    <div>\n                      <h3>Anti-Rug Policy</h3>\n                      <p>\n                        This raffle is governed by a smart contract to prevent\n                        the artist from running away with your money.\n                      </p>\n                      <p>How it works:</p>\n                      This project will retain{' '}\n                      {fairLaunch.state.data.antiRugSetting.reserveBp / 100}% (â—Ž{' '}\n                      {(fairLaunch?.treasury *\n                        fairLaunch.state.data.antiRugSetting.reserveBp) /\n                        (LAMPORTS_PER_SOL * 10000)}\n                      ) of the pledged amount in a locked state until all but{' '}\n                      {fairLaunch.state.data.antiRugSetting.tokenRequirement.toNumber()}{' '}\n                      NFTs (out of up to{' '}\n                      {fairLaunch.state.data.numberOfTokens.toNumber()}) have\n                      been minted.\n                      <p>\n                        If more than{' '}\n                        {fairLaunch.state.data.antiRugSetting.tokenRequirement.toNumber()}{' '}\n                        NFTs remain as of{' '}\n                        {toDate(\n                          fairLaunch.state.data.antiRugSetting.selfDestructDate,\n                        )?.toLocaleDateString()}{' '}\n                        at{' '}\n                        {toDate(\n                          fairLaunch.state.data.antiRugSetting.selfDestructDate,\n                        )?.toLocaleTimeString()}\n                        , you will have the option to get a refund of{' '}\n                        {fairLaunch.state.data.antiRugSetting.reserveBp / 100}%\n                        of the cost of your token.\n                      </p>\n                      {fairLaunch?.ticket?.data &&\n                        !fairLaunch?.ticket?.data.state.withdrawn && (\n                          <MintButton\n                            onClick={onRugRefund}\n                            variant=\"contained\"\n                            disabled={\n                              !!!fairLaunch.ticket.data ||\n                              !fairLaunch.ticket.data.state.punched ||\n                              Date.now() / 1000 <\n                                fairLaunch.state.data.antiRugSetting.selfDestructDate.toNumber()\n                            }\n                          >\n                            {isMinting ? (\n                              <CircularProgress />\n                            ) : Date.now() / 1000 <\n                              fairLaunch.state.data.antiRugSetting.selfDestructDate.toNumber() ? (\n                              <span>\n                                Refund in...\n                                <Countdown\n                                  date={toDate(\n                                    fairLaunch.state.data.antiRugSetting\n                                      .selfDestructDate,\n                                  )}\n                                />\n                              </span>\n                            ) : (\n                              'Refund'\n                            )}\n                            {}\n                          </MintButton>\n                        )}\n                      <div style={{ textAlign: 'center', marginTop: '-5px' }}>\n                        {fairLaunch?.ticket?.data &&\n                          !fairLaunch?.ticket?.data?.state.punched && (\n                            <small>\n                              You currently have a ticket but it has not been\n                              punched yet, so cannot be refunded.\n                            </small>\n                          )}\n                      </div>\n                    </div>\n                  )}\n              </MuiDialogContent>\n            </Dialog>\n            <Dialog\n              open={howToOpen}\n              onClose={() => setHowToOpen(false)}\n              PaperProps={{\n                style: { backgroundColor: '#222933', borderRadius: 6 },\n              }}\n            >\n              <MuiDialogTitle\n                disableTypography\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Link\n                  component=\"button\"\n                  variant=\"h6\"\n                  color=\"textSecondary\"\n                  onClick={() => {\n                    setHowToOpen(true);\n                  }}\n                >\n                  How it works\n                </Link>\n                <IconButton\n                  aria-label=\"close\"\n                  className={dialogStyles.closeButton}\n                  onClick={() => setHowToOpen(false)}\n                >\n                  <CloseIcon />\n                </IconButton>\n              </MuiDialogTitle>\n              <MuiDialogContent>\n                <Typography variant=\"h6\">\n                  Phase 1 - Set the fair price:\n                </Typography>\n                <Typography gutterBottom color=\"textSecondary\">\n                  Enter a bid in the range provided by the artist. The median of\n                  all bids will be the \"fair\" price of the raffle ticket.{' '}\n                  {fairLaunch?.state?.data?.fee && (\n                    <span>\n                      <b>\n                        All bids will incur a â—Ž{' '}\n                        {fairLaunch?.state?.data?.fee.toNumber() /\n                          LAMPORTS_PER_SOL}{' '}\n                        fee.\n                      </b>\n                    </span>\n                  )}\n                </Typography>\n                <Typography variant=\"h6\">Phase 2 - Grace period:</Typography>\n                <Typography gutterBottom color=\"textSecondary\">\n                  If your bid was at or above the fair price, you automatically\n                  get a raffle ticket at that price. There's nothing else you\n                  need to do. Your excess SOL will be returned to you when the\n                  Fair Launch authority withdraws from the treasury. If your bid\n                  is below the median price, you can still opt in at the fair\n                  price during this phase.\n                </Typography>\n                {candyMachinePredatesFairLaunch ? (\n                  <>\n                    <Typography variant=\"h6\">\n                      Phase 3 - The Candy Machine:\n                    </Typography>\n                    <Typography gutterBottom color=\"textSecondary\">\n                      Everyone who got a raffle ticket at the fair price is\n                      entered to win an NFT. If you win an NFT, congrats. If you\n                      donâ€™t, no worries, your SOL will go right back into your\n                      wallet.\n                    </Typography>\n                  </>\n                ) : (\n                  <>\n                    <Typography variant=\"h6\">Phase 3 - The Lottery:</Typography>\n                    <Typography gutterBottom color=\"textSecondary\">\n                      Everyone who got a raffle ticket at the fair price is\n                      entered to win a Fair Launch Token that entitles them to\n                      an NFT at a later date using a Candy Machine here. If you\n                      donâ€™t win, no worries, your SOL will go right back into\n                      your wallet.\n                    </Typography>\n                    <Typography variant=\"h6\">\n                      Phase 4 - The Candy Machine:\n                    </Typography>\n                    <Typography gutterBottom color=\"textSecondary\">\n                      On{' '}\n                      {candyMachine?.state.goLiveDate\n                        ? toDate(\n                            candyMachine?.state.goLiveDate,\n                          )?.toLocaleString()\n                        : ' some later date'}\n                      , you will be able to exchange your Fair Launch token for\n                      an NFT using the Candy Machine at this site by pressing\n                      the Mint Button.\n                    </Typography>\n                  </>\n                )}\n              </MuiDialogContent>\n            </Dialog>\n\n            {/* {wallet.connected && (\n              <p>\n                Address: {shortenAddress(wallet.publicKey?.toBase58() || '')}\n              </p>\n            )}\n\n            {wallet.connected && (\n              <p>Balance: {(balance || 0).toLocaleString()} SOL</p>\n            )} */}\n          </Grid>\n        </Paper>\n      </Container>\n\n      {fairLaunch && (\n        <Container\n          maxWidth=\"xs\"\n          style={{ position: 'relative', marginTop: 10 }}\n        >\n          <div style={{ margin: 20 }}>\n            <Grid container direction=\"row\" wrap=\"nowrap\">\n              <Grid container md={4} direction=\"column\">\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  Bids\n                </Typography>\n                <Typography\n                  variant=\"h6\"\n                  color=\"textPrimary\"\n                  style={{ fontWeight: 'bold' }}\n                >\n                  {fairLaunch?.state.numberTicketsSold.toNumber() || 0}\n                </Typography>\n              </Grid>\n              <Grid container md={4} direction=\"column\">\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  Median bid\n                </Typography>\n                <Typography\n                  variant=\"h6\"\n                  color=\"textPrimary\"\n                  style={{ fontWeight: 'bold' }}\n                >\n                  â—Ž {formatNumber.format(median)}\n                </Typography>\n              </Grid>\n              <Grid container md={4} direction=\"column\">\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  Total raised\n                </Typography>\n                <Typography\n                  variant=\"h6\"\n                  color=\"textPrimary\"\n                  style={{ fontWeight: 'bold' }}\n                >\n                  â—Ž{' '}\n                  {formatNumber.format(\n                    (fairLaunch?.treasury || 0) / LAMPORTS_PER_SOL,\n                  )}\n                </Typography>\n              </Grid>\n            </Grid>\n          </div>\n        </Container>\n      )}\n      <Snackbar\n        open={alertState.open}\n        autoHideDuration={6000}\n        onClose={() => setAlertState({ ...alertState, open: false })}\n      >\n        <Alert\n          onClose={() => setAlertState({ ...alertState, open: false })}\n          severity={alertState.severity}\n        >\n          {alertState.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\ninterface AlertState {\n  open: boolean;\n  message: string;\n  severity: 'success' | 'info' | 'warning' | 'error' | undefined;\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}